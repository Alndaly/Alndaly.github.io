## 本地推送

### 申请通知权限

```swift
UNUserNotificationCenter.current().requestAuthorization(options: [.alert,.badge,.sound]){success, error in
    if(success){
        print("All Set!")
    }else if let error = error{
        print(error.localizedDescription)
    }
}
```

### 设置通知内容

```swift
let content = UNMutableNotificationContent()
content.title = "Feed the cat"
content.subtitle = "It looks hungry"
content.sound = UNNotificationSound.default
```

### 设置通知触发时间

```swift
// show this notification five seconds from now
let trigger = UNTimeIntervalNotificationTrigger(timeInterval: 5, repeats: false)
```

### 创建推送请求类

```swift
let request = UNNotificationRequest(identifier: UUID().uuidString, content: content, trigger: trigger)
```

### 将推送请求加入通知中心

```swift
UNUserNotificationCenter.current().add(request)
```

## 远程推送

1. 去[Apple开发者官网](https://developer.apple.com/account/resources/identifiers/list)新建一个APP并且开启推送权限。

![](https://upload.kinda.info/image/202212151736791.png)

![](https://upload.kinda.info/image/202212151737433.png)

2. 配置本地测试证书
    1. 本地生成csr文件
       1. 打开Keychain Access
        ![](https://upload.kinda.info/image/202212151757359.png)
       2. 配置证书
       ![](https://upload.kinda.info/image/202212151758906.png)

        选择保存到本地（此时不需要上传到ca认证）
       ![](https://upload.kinda.info/image/202212151800048.png)
    2. 上传CSR文件
        ![](https://upload.kinda.info/image/202212151803306.png)
    3. 下载证书
        ![](https://upload.kinda.info/image/202212151804864.png)

3. 配置发布证书（如果需要，那么具体操作同上）
4. 双击下载下来的证书加到KeyChain Access

